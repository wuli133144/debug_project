Index: crypto/objects/obj_mac.h
===================================================================
--- crypto/objects/obj_mac.h	(revision 14345)
+++ crypto/objects/obj_mac.h	(working copy)
@@ -2601,6 +2601,16 @@
 #define NID_sm1_128_cbc		922
 #define OBJ_sm1_128_cbc		OBJ_gm_alg,102L
 
+#define SN_sm3		"SM3"
+#define LN_sm3		"sm3"
+#define NID_sm3		923
+#define OBJ_sm3		OBJ_gm_alg,401L
+
+#define SN_sm3WithRSAEncryption		"RSA-SM3"
+#define LN_sm3WithRSAEncryption		"sm3WithRSAEncryption"
+#define NID_sm3WithRSAEncryption		924
+#define OBJ_sm3WithRSAEncryption		OBJ_gm_alg,504L
+
 #define OBJ_csor		2L,16L,840L,1L,101L,3L
 
 #define OBJ_nistAlgorithms		OBJ_csor,4L
Index: crypto/objects/obj_dat.h
===================================================================
--- crypto/objects/obj_dat.h	(revision 14345)
+++ crypto/objects/obj_dat.h	(working copy)
@@ -62,12 +62,12 @@
  * [including the GNU Public Licence.]
  */
 
-#define NUM_NID 923
-#define NUM_SN 916
-#define NUM_LN 916
-#define NUM_OBJ 860
+#define NUM_NID 925
+#define NUM_SN 918
+#define NUM_LN 918
+#define NUM_OBJ 862
 
-static const unsigned char lvalues[5995]={
+static const unsigned char lvalues[6011]={
 0x00,                                        /* [  0] OBJ_undef */
 0x2A,0x86,0x48,0x86,0xF7,0x0D,               /* [  1] OBJ_rsadsi */
 0x2A,0x86,0x48,0x86,0xF7,0x0D,0x01,          /* [  7] OBJ_pkcs */
@@ -928,6 +928,8 @@
 0x2A,0x81,0x1C,                              /* [5979] OBJ_ISO_CN */
 0x2A,0x81,0x1C,0x81,0x45,                    /* [5982] OBJ_CN_GMJ */
 0x2A,0x81,0x1C,0x81,0x45,0x01,0x66,          /* [5987] OBJ_sm1_128_cbc */
+0x2A,0x81,0x1C,0x81,0x45,0x01,0x83,0x11,     /* [5994] OBJ_sm3 */
+0x2A,0x81,0x1C,0x81,0x45,0x01,0x83,0x78,     /* [6002] OBJ_sm3WithRSAEncryption */
 };
 
 static const ASN1_OBJECT nid_objs[NUM_NID]={
@@ -2412,6 +2414,9 @@
 {"ISO-CN","ISO CN Member Body",NID_ISO_CN,3,&(lvalues[5979]),0},
 {"CN-GMJ","CN GMJ algorithm",NID_CN_GMJ,5,&(lvalues[5982]),0},
 {"SM1-128-CBC","sm1-128-cbc",NID_sm1_128_cbc,7,&(lvalues[5987]),0},
+{"SM3","sm3",NID_sm3,8,&(lvalues[5994]),0},
+{"RSA-SM3","sm3WithRSAEncryption",NID_sm3WithRSAEncryption,8,
+	&(lvalues[6002]),0},
 };
 
 static const unsigned int sn_objs[NUM_SN]={
@@ -2581,6 +2586,7 @@
 668,	/* "RSA-SHA256" */
 669,	/* "RSA-SHA384" */
 670,	/* "RSA-SHA512" */
+924,	/* "RSA-SM3" */
 919,	/* "RSAES-OAEP" */
 912,	/* "RSASSA-PSS" */
 777,	/* "SEED-CBC" */
@@ -2594,6 +2600,7 @@
 673,	/* "SHA384" */
 674,	/* "SHA512" */
 922,	/* "SM1-128-CBC" */
+923,	/* "SM3" */
 188,	/* "SMIME" */
 167,	/* "SMIME-CAPS" */
 100,	/* "SN" */
@@ -4207,6 +4214,8 @@
 454,	/* "simpleSecurityObject" */
 496,	/* "singleLevelQuality" */
 922,	/* "sm1-128-cbc" */
+923,	/* "sm3" */
+924,	/* "sm3WithRSAEncryption" */
 16,	/* "stateOrProvinceName" */
 660,	/* "streetAddress" */
 498,	/* "subtreeMaximumQuality" */
@@ -4658,6 +4667,8 @@
 768,	/* OBJ_camellia_256_ofb128          0 3 4401 5 3 1 9 43 */
 759,	/* OBJ_camellia_256_cfb128          0 3 4401 5 3 1 9 44 */
 437,	/* OBJ_pilot                        0 9 2342 19200300 100 */
+923,	/* OBJ_sm3                          1 2 156 197 1 401 */
+924,	/* OBJ_sm3WithRSAEncryption         1 2 156 197 1 504 */
 776,	/* OBJ_seed_ecb                     1 2 410 200004 1 3 */
 777,	/* OBJ_seed_cbc                     1 2 410 200004 1 4 */
 779,	/* OBJ_seed_cfb128                  1 2 410 200004 1 5 */
